<html>
    <head>
        <script>
                function validateForm(){
                    var nameMatch = /^([a-z]|[A-Z]){3,10}$/;
                    var phoneNumberMatch = /^[0-9]{3}-[0-9]{4}-[0-9]{4}$/;
                    var emailMatch = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
                    var name = document.getElementById('name').value;
                    if(!name.match(nameMatch))
                        alert('Name field should be between 3  to 10 characters');
                    var phone = document.getElementById('phone').value;
                    if(!phone.match(phoneNumberMatch))
                        alert('Phone Number  should be in xxx-xxxx-xxxx format ');
                    var mail = document.getElementById('mail').value;
                    if(!mail.match(emailMatch))
                        alert('Enter valid email id');
                }
                function showQualifications(Graduation){
                    if(Graduation.value=="UG"){
                        var Qualification = document.getElementById('Qualification');
                        var options = ["B.sc", "B.A", "B.Com"];
                        Qualification.length = 0;
                        for(i=0;i<3;i++){
                            var option1 = document.createElement("option");
                            option1.text = options[i];
                            Qualification.add(option1);
                        }
                    }
                    if(Graduation.value=="PG"){
                        var Qualification = document.getElementById('Qualification');
                        var options = ["M.A", "M.Tech", "MCA", "MBA"];
                        Qualification.length = 0;
                        for(i=0;i<3;i++){
                            var option1 = document.createElement("option");
                            option1.text = options[i];
                            Qualification.add(option1);
                        }
                    }
                }
                function newWindow(){
                    validateForm();
                    var myWindow = window.open('','','width=500 height=500');
                    var today = new Date();
                    var dob = new Date(document.getElementById('date').value)
                    var age = today.getFullYear() - dob.getFullYear();
                    var months = today.getMonth() - dob.getMonth();
                    if (months < 0 || (months === 0 && today.getDate() < dob.getDate())) {
                        age = age - 1;
                    }
                    var newContent = "<html><body>"+
                        "<table><tr><td>Name:</td><td>"+document.getElementById('name').value +
                        "</td></tr><tr><td>Age:</td><td>"+age + 
                        "</td></tr><tr><td>Phone Number:</td><td>"+document.getElementById('phone').value+
                        "</td></tr><tr><td>Email:</td><td>"+ document.getElementById('mail').value +
                        "</td></tr><tr><td>Graduation Level:</td><td>"+ document.getElementById('Graduation').value+
                        "</td></tr><tr><td>Qualification:</td><td>" + document.getElementById('Qualification').value +
                        "</td></tr></table></body></html>";
                    myWindow.document.write(newContent);
                }
        </script>
    </head>

    <body>
        <form>
            <table>
                <tr><td>Name: </td><td><input type="text" id="name" required/></td></tr>
                <tr><td>Date of Birth: </td><td><input type="date" id="date" required/></td></tr>
                <tr><td>Phone Number: </td><td><input type="tel" id="phone" required/></td></tr>
                <tr><td>Email: </td><td><input type="email" id="mail" required/></td></tr>
                <tr><td>Graduation Level: </td>
                    <td><input type="radio" value="UG" id="Graduation" onclick="showQualifications(this);">UG<input type="radio" value="PG" id="Graduation" onchange="showQualifications(this);">PG</td></tr>
                <tr><td>Qualification:</td>
                    <td><select id="Qualification">
                        <option></option>
                    </select></td></tr>
                <tr><td><input type="submit" value="submit" onclick="validateForm();"></td>
                    <td><input type="button" value="Preview" onclick="validateForm();newWindow();"></td></tr>
            </table>
        </form>
    </body>
</html>
